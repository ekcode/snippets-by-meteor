<head>
<title>My Snippets</title>

</head>

<body>
  {{> header}}

  {{#if currentUser}}
    {{> inputarea}}
  {{else}}
    {{> loginForm}}
  {{/if}}
</body>

<template name="header">
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="#">{{title}}</a>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li class="active"><a href="#">My Snippets</a></li>
            <li><a href="#">Tags</a></li>
            <li><a href="#">About</a></li>
            {{#if currentUser}}
            <li><a href="javascript:Meteor.logout()"><span class="label label-warning">Logout [{{Meteor.user.username}}]</span></a></li>
            {{/if}}
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="inputarea">
  <div class="row">
    <div class="span12">
      <textarea rows="10"/>
      <div style="text-align:right;">
        <input type="button" class="btn btn-large btn-primary" id="btnInsert" value="Create New Snippet" />
      </div>
      <hr/>
      {{#each snippets}}
      <div class="snippet">
        <div class="meta">
          <span class="meta userinfo text-info">{{user.username}}</span>
          <span class="meta regdate text-info"> [{{regdate}}]</span>
          <span class="btnUpdate badge badge-info pointer">edit</span>
          <span class="btnRemove badge badge-important pointer">delete</span>
        </div>
        <div class="content">
          {{#if title ""}}
            <pre class="title">{{title}}</pre>
            <pre>{{content}}</pre>
          {{else}}
            <pre>{{content}}</pre>
          {{/if}}
        </div>
      </div>
      {{/each}}
    </div>
    <div class="span4">
      <span class="label">Java</span>
      <span class="label label-success">CSS</span>
      <span class="label label-warning">Linux</span>
    </div>
  </div>
</template>

<template name="loginForm">
  <form class="form-horizontal">
    <div class="control-group">
      <label class="control-label" for="inputUsername">Name</label>
      <div class="controls">
        <input type="text" id="loginUsername" placeholder="Name">
      </div>
    </div>
    <div class="control-group">
      <label class="control-label" for="inputPassword">Password</label>
      <div class="controls">
        <input type="password" id="loginPassword" placeholder="Password">
      </div>
    </div>
    <div class="control-group">
      <div class="controls">
        <input type="button" id="loginBtn" class="btn btn-primary" value="Log In"/>
      </div>
    </div>
  </form>

  <hr/>
  <h3>아직 계정이 없으신가요?</h3>
  <form class="form-horizontal">
    <div class="control-group">
      <label class="control-label" for="inputUsername">Name</label>
      <div class="controls">
        <input type="text" id="inputUsername" placeholder="Name">
      </div>
    </div>
    <div class="control-group">
      <label class="control-label" for="inputPassword">Password</label>
      <div class="controls">
        <input type="password" id="inputPassword" placeholder="Password">
      </div>
    </div>
    <div class="control-group">
      <div class="controls">
        <input type="button" id="signupBtn" class="btn btn-primary" value="Sign Up"/>
      </div>
    </div>
  </form>
</template>
